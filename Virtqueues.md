# Virtqueues

```
┌───────────────┐                                      
│  Virtqueues   │                                      
└───────────────┘                                      
						       
┌──────────────────────────────┬──────────────────────┐
│       Descriptor Table       │    ┌────────────────┐│
├──────────────────────────────┘    │Entry format    ││
│┌─────────────────────────────┐    │                ││
││           Entry 0           │    │64-bit Address  ││
│├─────────────────────────────┤    │32-bit Length   ││
││           Entry 1           │    │16-bit Flags    ││
│├─────────────────────────────┤    │16-bit Next     ││
││             ...             │    └────────────────┘│
│├─────────────────────────────┤    ┌────────────────┐│
││          Entry N-1          │    │N = Queue Size  ││
│└─────────────────────────────┘    └────────────────┘│
└─────────────────────────────────────────────────────┘
						       
┌──────────────────────────────┬──────────────────────┐
│        Available Ring        │                      │
├──────────────────────────────┘                      │
│┌─────────────────────────────┐                      │
││        16-bit Flags         │                      │
│├─────────────────────────────┤                      │
││        16-bit Index         │                      │
│├─────────────────────────────┤                      │
││           Entry 0           │                      │
│├─────────────────────────────┤                      │
││           Entry 1           │   ┌────────────────┐ │
│├─────────────────────────────┤   │Entry format    │ │
││             ...             │   │                │ │
│├─────────────────────────────┤   │16-bit Ring     │ │
││          Entry N-1          │   └────────────────┘ │
│├─────────────────────────────┤   ┌────────────────┐ │
││     16-bit Avail_Event      │   │N = Queue Size  │ │
│└─────────────────────────────┘   └────────────────┘ │
└─────────────────────────────────────────────────────┘
						       
┌──────────────────────────────┬──────────────────────┐
│          Used Ring           │                      │
├──────────────────────────────┘                      │
│┌─────────────────────────────┐                      │
││        16-bit Flags         │                      │
│├─────────────────────────────┤                      │
││        16-bit Index         │                      │
│├─────────────────────────────┤                      │
││           Entry 0           │                      │
│├─────────────────────────────┤   ┌────────────────┐ │
││           Entry 1           │   │Entry format    │ │
│├─────────────────────────────┤   │                │ │
││             ...             │   │32-bit Address  │ │
│├─────────────────────────────┤   │32-bit Length   │ │
││          Entry N-1          │   └────────────────┘ │
│├─────────────────────────────┤   ┌────────────────┐ │
││     16-bit Avail_Event      │   │N = Queue Size  │ │
│└─────────────────────────────┘   └────────────────┘ │
└─────────────────────────────────────────────────────┘
```